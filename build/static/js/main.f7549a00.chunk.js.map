{"version":3,"sources":["components/MicroCard.js","components/FollowersColumn.js","components/Card.js","components/MiniCard.js","pages/Home.js","pages/Upload.js","components/Header.js","index.js"],"names":["MicroCard","user","className","src","avatar","width","username","name","FollowersColumn","topFiveFollowing","users","map","index","Card","toggleFollow","timeStampReformat","timestamp","slice","caption","button_visible","is_followed","onClick","controls","video","type","class","likes","comments","MiniCard","Home","descendingUsers","topFiveNotFollowing","useState","setUsers","userToToggle","setUserToToggle","addData","a","axios","post","fetchData","get","results","console","log","data","put","userId","id","then","res","json","catch","err","error","useEffect","sort","b","filter","descendingUser","notFollowingUser","Upload","setVideo","setCaption","Date","toISOString","faker","random","uuid","handleSubmit","e","preventDefault","response","onSubmit","onChange","target","value","Header","to","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f7549a00.chunk.js","sourcesContent":["import React from 'react'\n\nconst MicroCard = ({ user }) => {\n  return (\n    <div className=\"section microcard\">\n      <img className=\"user-profile\"  src={user.avatar} width={'100%'} />\n      <div>\n        <h3 className=\"bold\">{user.username}</h3>\n        <p>{user.name}</p>\n      </div>\n    </div>\n  )\n}\n  \nexport default MicroCard","import React from 'react'\nimport MicroCard from '../components/MicroCard'\n\nconst FollowersColumn = (topFiveFollowing) => {\n  const users = topFiveFollowing.users\n\n  return (\n    <div className=\"followers-column\">\n      <div className=\"followers-section\">\n        <div className=\"home\" />\n        <h2 className=\"bold red\">For You</h2>\n      </div>\n      <div className=\"followers-section\">\n        <div className=\"following\" />\n        <h2>Following</h2>\n      </div>\n      <hr />\n      <p>Your top accounts</p>\n      {users && users.map((user, index) => (\n        <MicroCard \n            key={index} user={user}\n        />))}\n      <hr />\n    </div>\n  )\n}\n\nexport default FollowersColumn","import React from 'react'\n\nconst Card = ({ user, toggleFollow }) => {\n\n  const timestamp = user.timestamp\n  const timeStampReformat = timestamp.slice(2, 7)\n\n  return (\n    <div className=\"card\">\n      <div className=\"break\" />\n        <div className=\"section\">\n          <div className=\"user-info\">\n            <img className=\"user-profile\"  src={user.avatar} width={'100%'} />\n            <div>\n            <div className=\"section\">\n              <h3 className=\"bold\">{user.username}</h3>\n              <p className=\"username\">{user.name}</p>\n              <p>{timeStampReformat}</p>\n            </div> \n            <p>{user.caption}</p>\n            </div>\n          </div>\n          {user.button_visible && <div className={user.is_followed? \"followed-button\" : \"follow-button\"}\n            onClick={() => toggleFollow(user)}>\n              {user.is_followed? \"Following\": \"Follow\"}\n          </div>}\n        </div>\n        <video className=\"video\" controls>\n          <source src={user.video} type=\"video/mp4\" />\n        </video>\n        <div className=\"section socials\">\n           <i class=\"far fa-heart\"></i>\n          <div className=\"social-tag\">{user.likes}</div>\n          <i class=\"far fa-comment-dots\"></i>\n          <div className=\"social-tag\">{user.comments}</div>\n          <i class=\"far fa-share-square\"></i>\n        </div>\n    </div>\n  )\n}\n\nexport default Card","import React from 'react'\n\nconst MiniCard = ({ user, toggleFollow }) => {\n  return (\n    <div className=\"section minicard\">\n      <div className=\"section\">\n        <img className=\"user-profile\"  src={user.avatar} width={'100%'} />\n        <div>\n          <h3 className=\"bold\">{user.username}</h3>\n          <p>{user.name}</p>\n      </div>\n    </div>\n      {user.button_visible && <div className={user.is_followed? \"followed-button\" : \"follow-button\"}\n        onClick={() => toggleFollow(user)}\n      >\n      {user.is_followed? \"Following\": \"Follow\"}\n      </div>}\n    </div>\n  )\n}\n    \nexport default MiniCard","import React, { useState, useEffect } from 'react'\nimport FollowersColumn from '../components/FollowersColumn'\nimport Card from '../components/Card'\nimport MiniCard from '../components/MiniCard'\nimport axios from 'axios'\n\nconst Home = () => {\n  const [users, setUsers] = useState(null)\n  const [userToToggle, setUserToToggle] = useState(null)\n  let descendingUsers\n  let topFiveNotFollowing\n  let topFiveFollowing\n\n  //auto populating with dummy data\n  const addData = async () => {\n    await axios.post('/.netlify/functions/addData')\n  }\n\n  //fetch all the tik-tok posts to your feed\n  const fetchData = async () => {\n    const results = await axios.get('/.netlify/functions/posts')\n    console.log(results.data)\n    setUsers(results.data)\n  }\n\n  //toggle user from followed to unfollowed\n  if (userToToggle) {\n  const newValue = userToToggle.is_followed ? false : true\n  const data = {is_followed: newValue}\n\n   axios.put('/.netlify/functions/edit', {userId: userToToggle.id, data: data })\n    .then(res => res.json())\n    .then(json => console.log(json))\n    .catch(err => console.error('error:' + err))\n    .then(() => fetchData())\n      setUserToToggle(null)\n  }\n\n  useEffect(() => {\n    addData()\n    fetchData()\n  }, [])\n\n  if (users) {\n    descendingUsers = users.sort((a, b) => a.id < b.id ? 1 : -1)\n    const following = users.filter(user => user.is_followed === true)\n    const descendingFollowing = following.sort((a, b) => a.likes < b.likes ? 1 : -1)\n    topFiveFollowing = descendingFollowing.slice(0, 5)\n\n    const notFollowing = users.filter((user) => user.is_followed === false)\n    const descendingNotFollowing = notFollowing.sort((a, b) => a.likes < b.likes ? 1 : -1)\n    topFiveNotFollowing = descendingNotFollowing.slice(0, 5)\n  }\n\n  return (\n    <>\n    {descendingUsers && (\n      <div className='container'>\n        <FollowersColumn users={topFiveFollowing} />\n        <div className='feed'>\n          {descendingUsers.map((descendingUser, index) => (\n            <Card\n              key={index}\n              user={descendingUser}\n              toggleFollow={userToToggle => setUserToToggle(userToToggle)}\n            />\n          ))}\n        </div>\n        <div className=\"suggested-box\">\n          <div className=\"section\">\n            <div className=\"suggested\">\n              <h2 className=\"bold\">Suggested accounts</h2>\n              <div className=\"break\" />\n              {topFiveNotFollowing.map((notFollowingUser, index) => (\n                <MiniCard \n                  key={index} user={notFollowingUser}\n                  toggleFollow={userToToggle => setUserToToggle(userToToggle)}\n\t\t  \t        />)\n\t\t  \t      )}\n            </div>\n          </div>\n        </div>\n      </div>\n      )}\n    </>\n  )\n}\n\nexport default Home","import React, { useState } from 'react'\nimport axios from 'axios'\nimport faker from \"faker\"\n\nconst Upload = () => {\n  const username = 'aniak100'\n  const name = 'Ania Kubow'\n  const avatar = 'https://i.imgur.com/QwZod6m.png'\n  const [video, setVideo] = useState(null)\n  const [caption, setCaption] = useState(null)\n  const today = new Date()\n  const timestamp = today.toISOString()\n\n  let id = faker.random.uuid()\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n\n    const data =  {\n        id: id,\n        name: name,\n        username: username,\n        avatar: avatar,\n        is_followed: false,\n        video: video,\n        caption: caption,\n        likes: 0,\n        comments: 0,\n        timestamp: timestamp,\n        button_visible: false  \n      }\n\n      axios.post('/.netlify/functions/add', data)\n      .then((response) => {\n      console.log(response)\n      })\n    .catch((err) => {\n      console.error(err)\n  })\n  }\n\n  return (\n    <div className=\"upload-page\">\n        <br />\n        <h1>Upload video</h1>\n        <p>This video will be published to @{username}</p>\n        <div className='container'>\n          <form onSubmit={handleSubmit}>\n            <div className='section'>\n              <div className=\"image-upload\"></div>\n              <div className=\"form-section\">\n                <div className='section input-section'>\n                  <label className=\"bold\">Caption</label>\n                  <input\n                    className='input'\n                    name='caption'\n                    onChange={(e) => setCaption(e.target.value)}\n                  />\n                </div>\n                <div className=\"break\"></div>\n                <div className='section input-section'>\n                  <label className=\"bold\">Video Url</label>\n                  <input\n                    className='input'\n                    name='video'\n                    onChange={(e) => setVideo(e.target.value)}\n                  />\n                </div>\n              </div>\n            </div>\t\t\t\n            <button>Post</button>\n          </form>\n        </div>\n    </div>\n  )\n}\n\nexport default Upload","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst Header = () => {\n  return (\n    <div className=\"header\">\n      <Link to='/'>\n        <div className=\"logo\"></div>\n      </Link>\n      <div className=\"upload-container\">\n        <div className=\"section\">\n          <Link to='/upload'>\n            <div className=\"upload\" />\n          </Link>\n          <img className=\"personal\" src=\"https://i.imgur.com/QwZod6m.png\" />\n        </div>\n      </div>\n    </div>\n  )  \n}\n  \nexport default Header","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter, Route , Switch} from 'react-router-dom'\nimport Home from './pages/Home'\nimport Upload from './pages/Upload'\nimport Header from './components/Header'\nimport \"core-js/stable\"\nimport \"regenerator-runtime/runtime\"\nimport './App.css'\n\nconst App = () => {\n  \n  return (\n    <HashRouter>\n      <Header />\n    <Switch>\n      <Route path= \"/upload\" component={Upload}/>\n      <Route path= \"/\" component={Home}/>\n    </Switch>\n  </HashRouter>\n  )\n}\n\nexport default App\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}